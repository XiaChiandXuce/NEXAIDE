# NEXAIDE Plugin 开发指南

## 快速开始

### 1. 安装依赖
```bash
npm install
```

### 2. 编译插件
```bash
npm run compile
```

### 3. 在 VS Code 中测试插件

#### 方法一：使用 F5 调试
1. 在 VS Code 中打开插件项目
2. 按 `F5` 键启动扩展开发主机
3. 在新打开的 VS Code 窗口中测试插件

#### 方法二：手动启动
1. 打开命令面板 (`Ctrl+Shift+P`)
2. 运行 "Developer: Reload Window" 重新加载窗口
3. 在活动栏中找到 NEXAIDE AI Assistant 图标
4. 点击打开 AI 聊天侧边栏

## 功能特性

### ✨ 现代化 UI 设计
- 🎨 渐变色头部设计
- 💬 美观的消息气泡
- 🔄 流畅的动画效果
- 📱 响应式布局

### 🤖 AI 聊天功能
- 💭 智能对话交互
- 🔧 代码相关问题解答
- 📝 支持代码块格式化
- ⏰ 消息时间戳显示

### 🛠️ 实用工具
- 📎 文件附加功能
- 🗑️ 清空聊天记录
- ⚙️ 设置面板
- 🚀 快速操作按钮

### 🎯 快速操作
- "解释代码" - 快速获取代码解释
- "优化代码" - 代码优化建议
- "调试帮助" - 调试问题解决
- "生成测试" - 自动生成测试代码

## 开发说明

### 文件结构
```
src/
├── extension.ts      # 主扩展逻辑
├── chatView.html     # AI 聊天界面
└── ...
```

### 主要组件

#### AIChatViewProvider
- 负责管理 Webview 视图
- 处理用户消息和 AI 响应
- 管理文件附加和设置功能

#### 消息处理
- `sendMessage`: 发送用户消息
- `openSettings`: 打开设置面板
- `attachFile`: 附加文件到聊天
- `clearChat`: 清空聊天记录

### 自定义样式
- 使用 CSS 变量适配 VS Code 主题
- 响应式设计支持不同窗口大小
- 现代化的 UI 组件和动画

## 测试指南

### 基本功能测试
1. ✅ 插件正确加载
2. ✅ 侧边栏正常显示
3. ✅ 消息发送和接收
4. ✅ 文件附加功能
5. ✅ 清空聊天功能
6. ✅ 快速操作按钮

### UI 测试
1. ✅ 界面美观度
2. ✅ 响应式布局
3. ✅ 动画效果
4. ✅ 主题适配

### 交互测试
1. ✅ 键盘快捷键 (Enter 发送, Shift+Enter 换行)
2. ✅ 按钮点击响应
3. ✅ 滚动和自动滚动
4. ✅ 输入框自动调整大小

## 下一步开发计划

### 短期目标
- [ ] 集成真实的 AI API
- [ ] 添加代码语法高亮
- [ ] 实现代码复制功能
- [ ] 添加更多快速操作

### 中期目标
- [ ] 支持多种 AI 模型
- [ ] 添加聊天历史持久化
- [ ] 实现代码上下文感知
- [ ] 添加插件设置页面

### 长期目标
- [ ] 集成 Trae-Agent
- [ ] 支持项目级别的代码分析
- [ ] 实现智能代码建议
- [ ] 添加团队协作功能

## 故障排除

### 常见问题

**Q: 插件无法加载？**
A: 确保已运行 `npm run compile` 编译插件

**Q: 界面显示异常？**
A: 检查 chatView.html 文件是否正确加载

**Q: 消息发送失败？**
A: 检查 extension.ts 中的消息处理逻辑

**Q: 样式不正确？**
A: 确认 CSS 变量是否正确引用 VS Code 主题

### 调试技巧
1. 使用 VS Code 开发者工具调试 Webview
2. 查看扩展主机的控制台输出
3. 使用 `console.log` 添加调试信息
4. 检查网络请求和错误信息

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 创建 Pull Request

## 许可证

MIT License - 详见 LICENSE 文件